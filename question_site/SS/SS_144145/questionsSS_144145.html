<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="questionsSS_144145.css">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>三択クイズ 社会</title>
    </head>
    <div class="wrapper">
    <div class="container">
    <h1>三択クイズ 社会 歴史 p144~p145</h1>
    <hr>
    <p><a href="https://kantyas.github.io/questions.html">ホームページはこちら</a></p>
    <hr>
    <h2>問題</h2>
    <div id="text_q"></div>
    <h2>選択</h2>
    <div id="text_s"></div>
    <h2>解答</h2>
    <h5 id="text_a"></h5>

    <script type="text/javascript">
    qa = new Array();
    qa[0] = ["アメリカが日本を開国させるために送った人物は？","ペリー","ハリス","ピアース",1];
    qa[1] = ["1問目の人物が最初に現れた場所はどこ？","大阪湾","浦賀沖","三陸海岸",2];
    qa[2] = ["1問目の人物が最初に現れた年は？","1858年","1853年","1855年",2];
    qa[3] = ["3問目の翌年に1問目の人物と結んだ条約は？","下関条約","日米安全保障条約","日米和親条約",3];
    qa[4] = ["1858年にアメリカと結んだ条約は？","日米安全保障条約","日米修好通商条約","下関条約",2];
    qa[5] = ["5問目の条約を結んだ時の中心人物は誰？","井伊直弼","伊藤博文","西郷高盛",1];
    qa[6] = ["5問目は日本に不利な条約だった。それはなぜ？(1つめの問題)","日本に裁判権がないから。","日本の領土を渡さなければいけないから。","アメリカが攻撃しても反撃できないから。",1];
    qa[7] = ["5問目は日本に不利な条約だった。それはなぜ？(2つめの問題)","日本の兵隊を定期的に渡さなければいけないから。","法律を新たに作る権利がないから。","輸入品の関税率を決める権利がないから。",3];
    qa[8] = ["5問目の条約を結ぶことを求めた人は誰？","ハリス","ペリー","チャーチル",1];
    /*
    qa[問題の番号] = ["q","s","s","s",正解の番号];
    */

    //初期設定
    q_sel = 3; //選択肢の数
    q_max = 9; //問題数

    setReady();

    //初期設定
    function setReady(){
        count = 0; // 問題番号
        ansers = new Array(); //解答記録 

        //最初の問題
        quiz();
    }

    //問題表示
    function quiz(){
        var s, n;
        //問題
        document.getElementById("text_q").innerHTML = (count + 1) + "問目:" + qa[count][0];
        //選択肢
        s = "";
        for (n=1;n<=q_sel;n++){
            s += "[<a href='javascript:anser(" +n+ ")'>" + n + ":" + qa[count][n] + "</a>]"
        }
        document.getElementById("text_s").innerHTML = s;
    }
    //繰り返す時
    function repe(){
        var s;
        s = "";
        document.getElementById("text_a").innerHTML = s;
        setReady()
    }
    //解答表示
    function anser(num) {
        var s;
        s = (count + 1) + "問目:";
        //答え合わせ
        if (num == qa[count][q_sel + 1]){
            //正解
            ansers[count] = "正解○"; 
        } else {
            ansers[count] = "不正解×";
        }
        for (n=1;n<=q_sel;n++){
            s +=  " " + n + ":" +  qa[count][n]
        }
        s += " " + ansers[count] + " 答え:" + qa[count][q_sel + 1];
        document.getElementById("text_a").innerHTML = s;

        //次の問題を表示
        count++;
        if (count < qa.length){
            quiz();
        } else {
            //終了
            s = "<table border='2'><caption>結果</caption>";
		    //1行目
		    s += "<tr><th>問題</th>";
		    for (n=0;n<qa.length;n++) {
		    	s += "<th>" + (n+1) + "</th>";
		    }
		    s += "</tr>";
		    //2行目
		    s += "<tr><th>成績</th>";
		    for (n=0;n<qa.length;n++) {
		    	s += "<td>" + ansers[n] + "</td>";
		    }
		    s += "</tr>";
		    s += "</table>";
            document.getElementById("text_q").innerHTML = s;
            //次の選択肢
            s = "[<a href='javascript:repe()'>同じ問題を最初から</a>]"
            document.getElementById("text_s").innerHTML = s;
        }
    }
    </script>
    <footer>
        <a href="https://kantyas.github.io/questions.html">参考ページはホームページにあります</a>
        <p>製作:kantyas 問題作成日:2022/2/19</p>
    </footer>
    </div>
    </div>
</html>